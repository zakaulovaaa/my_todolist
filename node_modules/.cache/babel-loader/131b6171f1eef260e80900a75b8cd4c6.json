{"ast":null,"code":"var _jsxFileName = \"/Users/zakaulovaaa/Desktop/opapa/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './App.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nlet elem = document.getElementById('add_task');\nelem.addEventListener(\"click\", open_popap);\n\nfunction open_popap() {\n  const element = React.createElement(Open_my_popap, {\n    popap_openis: true,\n    task_new: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  });\n  ReactDOM.render(element, document.getElementById('root'));\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650\n  }\n});\nconst classes = useStyles;\nlet rows_task = []; //массив со значениями для таблицы\n\nlet id_new = 0; //счетчик для создания id\n\nlet st_ = \"Новая\";\n\nfunction createData(description_, status_, priority_, date1, date2) {\n  //собираем структуру для добавления в rows_task \n  return {\n    description_,\n    status_,\n    priority_,\n    date1,\n    date2\n  };\n}\n\nfunction display_date_format(str) {\n  //преобразуем дату в формад дд.мм.гггг\n  if (str == '-') return '-';\n  return str[8] + str[9] + '.' + str[5] + str[6] + '.' + str[0] + str[1] + str[2] + str[3];\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  //действия при кликах на таблицу\n  let tab = document.getElementById(\"tab\");\n\n  tab.onclick = e => {\n    //при онклике удалять строку из таблицы\n    let cell = e.target;\n    let row = cell.parentElement;\n    let rows = row.parentElement.children;\n\n    for (var i = 0; i < rows.length; ++i) {\n      if (rows[i] === row) {\n        break;\n      }\n    }\n\n    let columns = row.children;\n\n    for (var j = 0; j < columns.length; ++j) {\n      if (columns[j] === cell) {\n        break;\n      }\n    }\n\n    if (j == 5) {\n      rows_task.splice(i, 1);\n      row_json_add();\n      ReactDOM.render(React.createElement(My_table, {\n        rows_task_: rows_task,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), document.getElementById('content_table'));\n      update_statistic();\n    }\n  };\n\n  tab.ondblclick = e => {\n    //при даблклике открывать попап для редактирования\n    let cell = e.target;\n    let row = cell.parentElement;\n    let rows = row.parentElement.children;\n\n    for (var i = 0; i < rows.length; ++i) {\n      if (rows[i] === row) {\n        break;\n      }\n    }\n\n    let columns = row.children;\n\n    for (var j = 0; j < columns.length; ++j) {\n      if (columns[j] === cell) {\n        break;\n      }\n    }\n\n    const element = React.createElement(Open_my_popap, {\n      popap_openis: true,\n      task_new: false,\n      id: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    });\n    ReactDOM.render(element, document.getElementById('root'));\n  };\n});\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  //фильтры по статусу\n  document.getElementById(\"statistic_all_task\").onclick = e => {\n    ReactDOM.render(React.createElement(My_table, {\n      rows_task_: rows_task,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), document.getElementById('content_table'));\n  };\n\n  document.getElementById(\"statistic_new_task\").onclick = e => {\n    let filter_arr = rows_task.filter(function (row) {\n      return row['status_'] == 'Новая';\n    });\n    ReactDOM.render(React.createElement(My_table, {\n      rows_task_: filter_arr,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), document.getElementById('content_table'));\n  };\n\n  document.getElementById(\"statistic_in_work_task\").onclick = e => {\n    let filter_arr = rows_task.filter(function (row) {\n      return row['status_'] == 'В работе';\n    });\n    ReactDOM.render(React.createElement(My_table, {\n      rows_task_: filter_arr,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), document.getElementById('content_table'));\n  };\n\n  document.getElementById(\"statistic_completed_task\").onclick = e => {\n    let filter_arr = rows_task.filter(function (row) {\n      return row['status_'] == 'Завершено';\n    });\n    ReactDOM.render(React.createElement(My_table, {\n      rows_task_: filter_arr,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), document.getElementById('content_table'));\n  };\n});\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  //при изменении поля \"поиск\" фильтровать список\n  document.getElementById('search_task').oninput = e => {\n    let str = document.getElementById(\"search_task\").value.toLowerCase();\n    let filter_arr = rows_task.filter(function (row) {\n      return row['description_'].toLowerCase().indexOf(str) != -1;\n    });\n    row_json_get();\n    ReactDOM.render(React.createElement(My_table, {\n      rows_task_: filter_arr,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), document.getElementById('content_table'));\n  };\n});\n\nclass My_table extends React.Component {\n  //собссна, сама таблица\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(TableContainer, {\n      component: Paper,\n      id: \"tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: useStyles.table,\n      \"aria-label\": \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"\\u041F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u0430\\u044F \\u0434\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0430\\u044F \\u0434\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, this.props.rows_task_.map(row => React.createElement(TableRow, {\n      key: row.description_,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \" \", row.description_, \" \"), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, row.status_), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, row.priority_), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, display_date_format(row.date1)), React.createElement(TableCell, {\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, display_date_format(row.date2)), React.createElement(TableCell, {\n      align: \"right\",\n      id: \"act_delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, 'Удалить'))))));\n  }\n\n}\n\nfunction row_json_add() {\n  //закидываем массив в cookie\n  document.cookie = JSON.stringify(rows_task);\n}\n\nfunction row_json_get() {\n  //вытаскиваем массив из cookie\n  rows_task = JSON.parse(document.cookie.slice(document.cookie.indexOf('[')));\n  ReactDOM.render(React.createElement(My_table, {\n    rows_task_: rows_task,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), document.getElementById('content_table'));\n}\n\nfunction now_date() {\n  //возвращает текущую дату в правильном формате\n  let x = new Date();\n  return x.getFullYear() + \"-\" + (x.getMonth() + 1 < 10 ? \"0\" + (x.getMonth() + 1) : x.getMonth() + 1) + \"-\" + (x.getDate() < 10 ? \"0\" + x.getDate() : x.getDate());\n}\n\nfunction close_popap() {\n  //закрывает попап\n  const element = React.createElement(Open_my_popap, {\n    popap_openis: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  });\n  ReactDOM.render(element, document.getElementById('root'));\n}\n\nfunction Open_my_popap(props) {\n  // открываем попап для создания новой задачи\n  if (props.popap_openis) {\n    if (props.task_new) {\n      return React.createElement(My_popap, {\n        description_: '',\n        status_: 'Новая',\n        priority_: 'Низкий',\n        date_: now_date(),\n        is_new_: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      });\n    }\n\n    st_ = rows_task[props.id]['status_'];\n    return React.createElement(My_popap, {\n      description_: rows_task[props.id]['description_'],\n      status_: rows_task[props.id]['status_'],\n      priority_: rows_task[props.id]['priority_'],\n      date_: rows_task[props.id]['date1'],\n      is_new_: false,\n      id: props.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    });\n  }\n}\n\nclass Popap_status extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      is_new: props.is_new_,\n      input_status: props.input_status\n    };\n    this.handleChangeInputStatus = this.handleChangeInputStatus.bind(this);\n  }\n\n  handleChangeInputStatus(event) {\n    this.setState({\n      input_status: event.target.value\n    });\n    st_ = event.target.value;\n  }\n\n  render() {\n    if (this.state.is_new) {\n      return React.createElement(\"select\", {\n        value: this.state.input_status,\n        onChange: this.handleChangeInputStatus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \"\\u041D\\u043E\\u0432\\u0430\\u044F\"));\n    }\n\n    return React.createElement(\"select\", {\n      value: this.state.input_status,\n      onChange: this.handleChangeInputStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"\\u041D\\u043E\\u0432\\u0430\\u044F\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"\\u0412 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0435\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u043E\"));\n  }\n\n}\n\nclass My_popap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input_description: props.description_,\n      input_status: props.status_,\n      input_priority: props.priority_,\n      input_date: props.date_,\n      is_new: props.is_new_\n    };\n    this.handleChangeInputDescription = this.handleChangeInputDescription.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.new_task = this.new_task.bind(this);\n    this.handleChangeInputPriority = this.handleChangeInputPriority.bind(this);\n    this.handleChangeInputDate = this.handleChangeInputDate.bind(this);\n  }\n\n  handleChangeInputDate(event) {\n    this.setState({\n      input_date: event.target.value\n    });\n  }\n\n  handleChangeInputDescription(event) {\n    this.setState({\n      input_description: event.target.value\n    });\n  }\n\n  handleChangeInputPriority(event) {\n    this.setState({\n      input_priority: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n  }\n\n  new_task(event) {\n    if (this.state.input_description == '') {\n      alert(\"Поле \\\"Описание\\\" обязательно для заполнения\");\n    } else {\n      if (this.props.is_new_) {\n        rows_task.push(createData(this.state.input_description, st_, this.state.input_priority, this.state.input_date, \"-\"));\n      } else {\n        rows_task[this.props.id]['description_'] = this.state.input_description;\n\n        if (rows_task[this.props.id]['status_'] == 'Завершено' && st_ == 'Завершено') {} else {\n          if (st_ == 'Завершено') {\n            rows_task[this.props.id]['date2'] = now_date();\n          } else {\n            rows_task[this.props.id]['date2'] = '-';\n          }\n        }\n\n        rows_task[this.props.id]['status_'] = st_;\n        rows_task[this.props.id]['date1'] = this.state.input_date;\n        rows_task[this.props.id]['priority_'] = this.state.input_priority;\n      }\n\n      close_popap();\n      update_statistic();\n      row_json_add();\n      ReactDOM.render(React.createElement(My_table, {\n        rows_task_: rows_task,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }), document.getElementById('content_table'));\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Popap_window\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"popap_main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"Popap_head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      id: \"blyat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 / \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\"), React.createElement(\"button\", {\n      className: \"popap_close\",\n      onClick: close_popap,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"x\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435(*):\"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.input_description,\n      onChange: this.handleChangeInputDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"priority_status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"priority\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, \"\\u041F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442:\"), React.createElement(\"select\", {\n      value: this.state.input_priority,\n      onChange: this.handleChangeInputPriority,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"\\u041D\\u0438\\u0437\\u043A\\u0438\\u0439\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, \"\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0439\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, \"\\u0412\\u044B\\u0441\\u043E\\u043A\\u0438\\u0439\"))), React.createElement(\"div\", {\n      className: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"), React.createElement(Popap_status, {\n      is_new_: this.state.is_new,\n      input_status: this.state.input_status,\n      updateData: this.updateData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"deadline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, \"\\u041A\\u0440\\u0430\\u0439\\u043D\\u0438\\u0439 \\u0441\\u0440\\u043E\\u043A:\"), React.createElement(\"input\", {\n      type: \"date\",\n      id: \"date\",\n      value: this.state.input_date,\n      onChange: this.handleChangeInputDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"for_potap_btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"popap_btn\",\n      onClick: this.new_task,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"))));\n  }\n\n}\n\nfunction update_statistic() {\n  document.getElementById('statistic_all_task').textContent = 'Всего - ' + rows_task.length;\n  let cnt_new = 0,\n      cnt_in_work = 0,\n      cnt_finish = 0;\n\n  for (let i = 0; i < rows_task.length; i++) {\n    if (rows_task[i]['status_'] == 'Новая') {\n      cnt_new++;\n    }\n\n    if (rows_task[i]['status_'] == 'В работе') {\n      cnt_in_work++;\n    }\n\n    if (rows_task[i]['status_'] == 'Завершено') {\n      cnt_finish++;\n    }\n  }\n\n  document.getElementById('statistic_new_task').textContent = 'Новых - ' + cnt_new;\n  document.getElementById('statistic_in_work_task').textContent = 'В работе - ' + cnt_in_work;\n  document.getElementById('statistic_completed_task').textContent = 'Завершено - ' + cnt_finish;\n}\n\nReactDOM.render(React.createElement(My_table, {\n  rows_task_: rows_task,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 387\n  },\n  __self: this\n}), document.getElementById('content_table'));\nrow_json_get();\nupdate_statistic();","map":{"version":3,"sources":["/Users/zakaulovaaa/Desktop/opapa/src/index.js"],"names":["React","ReactDOM","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","elem","document","getElementById","addEventListener","open_popap","element","render","useStyles","table","minWidth","classes","rows_task","id_new","st_","createData","description_","status_","priority_","date1","date2","display_date_format","str","tab","onclick","e","cell","target","row","parentElement","rows","children","i","length","columns","j","splice","row_json_add","update_statistic","ondblclick","filter_arr","filter","oninput","value","toLowerCase","indexOf","row_json_get","My_table","Component","constructor","props","rows_task_","map","cookie","JSON","stringify","parse","slice","now_date","x","Date","getFullYear","getMonth","getDate","close_popap","Open_my_popap","popap_openis","task_new","id","Popap_status","state","is_new","is_new_","input_status","handleChangeInputStatus","bind","event","setState","My_popap","input_description","input_priority","input_date","date_","handleChangeInputDescription","handleSubmit","new_task","handleChangeInputPriority","handleChangeInputDate","preventDefault","alert","push","updateData","textContent","cnt_new","cnt_in_work","cnt_finish"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './App.css';\n\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\n\nlet elem = document.getElementById('add_task');\nelem.addEventListener(\"click\", open_popap);\n\nfunction open_popap() {\n    const element = <Open_my_popap\n        popap_openis={true}\n        task_new={true}\n    />;\n    ReactDOM.render(element, document.getElementById('root'));\n}\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst classes = useStyles;\n\nlet rows_task = []; //массив со значениями для таблицы\nlet id_new = 0; //счетчик для создания id\nlet st_ = \"Новая\";\n\nfunction createData( description_, status_, priority_, date1, date2 ) { //собираем структуру для добавления в rows_task \n  return { description_, status_, priority_, date1, date2 };\n}\n\nfunction display_date_format( str ) { //преобразуем дату в формад дд.мм.гггг\n  if ( str == '-' ) return '-';\n  return ( str[8] + str[9] + '.' + str[5] + str[6] + '.' + str[0] + str[1] + str[2] + str[3] );\n}\n\ndocument.addEventListener( \"DOMContentLoaded\", () => { //действия при кликах на таблицу\n  let tab = document.getElementById( \"tab\" ); \n\n  tab.onclick = e => { //при онклике удалять строку из таблицы\n    let cell = e.target;\n    let row = cell.parentElement;\n    let rows = row.parentElement.children;\n    for (var i = 0; i < rows.length; ++i) {\n      if ( rows[i] === row ) {\n        break;\n      }\n    }\n    let columns = row.children;\n    for (var j = 0; j < columns.length; ++j) {\n      if ( columns[j] === cell ) {\n        break;\n      }\n    }\n    if (j == 5) {\n      rows_task.splice( i, 1 );\n      row_json_add();\n      ReactDOM.render(< My_table rows_task_={ rows_task } /> , document.getElementById( 'content_table' ));\n      update_statistic();\n    }\n  };\n\n  tab.ondblclick = e => { //при даблклике открывать попап для редактирования\n    let cell = e.target;\n    let row = cell.parentElement;\n    let rows = row.parentElement.children;\n    for (var i = 0; i < rows.length; ++i) {\n      if ( rows[i] === row ) {\n        break;\n      }\n    }\n    let columns = row.children;\n    for (var j = 0; j < columns.length; ++j) {\n      if ( columns[j] === cell ) {\n        break;\n      }\n    }\n    const element = < Open_my_popap\n      popap_openis={ true }\n      task_new = { false }\n      id = { i }\n    />;\n    ReactDOM.render( element, document.getElementById( 'root' ) );\n  };\n});\n\ndocument.addEventListener( \"DOMContentLoaded\", () => { //фильтры по статусу\n  document.getElementById( \"statistic_all_task\" ).onclick = e => {\n    ReactDOM.render(< My_table rows_task_ = { rows_task } />, document.getElementById( 'content_table' ));\n  }\n  document.getElementById( \"statistic_new_task\" ).onclick = e => {\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return row['status_'] == 'Новая';\n      }\n    )\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n  document.getElementById( \"statistic_in_work_task\" ).onclick = e => {\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return row['status_'] == 'В работе';\n      }\n    )\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n  document.getElementById( \"statistic_completed_task\" ).onclick = e => {\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return row['status_'] == 'Завершено';\n      }\n    )\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n});\n\ndocument.addEventListener( \"DOMContentLoaded\", () => { //при изменении поля \"поиск\" фильтровать список\n  document.getElementById( 'search_task' ).oninput = e => {\n    let str = document.getElementById( \"search_task\" ).value.toLowerCase();\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return (row['description_'].toLowerCase().indexOf( str ) != -1);\n      }\n    )\n    row_json_get();\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n});\n\nclass My_table extends React.Component {  //собссна, сама таблица\n  constructor( props ) {\n    super( props );\n  }\n  render() {\n    return(\n      <TableContainer component={Paper} id=\"tab\">\n        <Table className={useStyles.table} aria-label=\"table\">\n        <TableHead>\n          <TableRow>\n          <TableCell>Описание</TableCell>\n          <TableCell align=\"right\">Статус</TableCell>\n          <TableCell align=\"right\">Приоритет</TableCell>\n          <TableCell align=\"right\">Плановая дата окончания</TableCell>\n          <TableCell align=\"right\">Фактическая дата окончания</TableCell>\n          <TableCell align=\"right\">Действие</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {this.props.rows_task_.map(row => (\n          <TableRow key = { row.description_ }>\n            <TableCell component=\"th\" scope=\"row\"> { row.description_} </TableCell>\n            <TableCell align=\"right\">{ row.status_ }</TableCell>\n            <TableCell align=\"right\">{ row.priority_ }</TableCell>\n            <TableCell align=\"right\">{ display_date_format( row.date1 ) }</TableCell>\n            <TableCell align=\"right\">{ display_date_format( row.date2 ) }</TableCell>\n            <TableCell align=\"right\" id=\"act_delete\">{ 'Удалить' }</TableCell>\n          </TableRow>\n          ))}\n        </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n}\n\nfunction row_json_add() {  //закидываем массив в cookie\n  document.cookie = JSON.stringify( rows_task );\n}\n\nfunction row_json_get() { //вытаскиваем массив из cookie\n  rows_task = JSON.parse( document.cookie.slice( document.cookie.indexOf( '[' ) ) );\n  ReactDOM.render(< My_table rows_task_ = { rows_task } />, document.getElementById( 'content_table' ));\n}\n\n\nfunction now_date() { //возвращает текущую дату в правильном формате\n  let x = new Date();\n  return (x.getFullYear() + \"-\" + \n          (x.getMonth() + 1 < 10 ? \"0\" + (x.getMonth() + 1) : (x.getMonth() + 1) ) + \"-\" + \n          (x.getDate() < 10 ? \"0\" + x.getDate() : x.getDate()));\n}\n\nfunction close_popap() { //закрывает попап\n  const element = < Open_my_popap popap_openis = { false } />;\n  ReactDOM.render( element, document.getElementById( 'root' ) );\n}\n\nfunction Open_my_popap(props) { // открываем попап для создания новой задачи\n  if ( props.popap_openis ) {\n    if ( props.task_new ) {\n      return (\n        <My_popap description_ = { '' } \n                  status_ = { 'Новая' } \n                  priority_ = { 'Низкий' } \n                  date_ = { now_date() } \n                  is_new_ = { true }\n        />\n      );\n    } \n    st_ = rows_task[props.id]['status_'];\n    return (\n      <My_popap description_ = { rows_task[props.id]['description_'] }\n                status_ = { rows_task[props.id]['status_'] }\n                priority_ = { rows_task[props.id]['priority_'] }\n                date_ = { rows_task[props.id]['date1'] }\n                is_new_ = { false }\n                id = { props.id }\n      />\n    );\n  } \n}\n\nclass Popap_status extends React.Component {\n  constructor( props ) {\n    super( props );\n    this.state = {\n      is_new: props.is_new_,\n      input_status: props.input_status\n    }\n    this.handleChangeInputStatus = this.handleChangeInputStatus.bind( this );\n  }\n  handleChangeInputStatus( event ) {\n    this.setState({ input_status: event.target.value });\n    st_ = event.target.value;\n  }\n  render() {\n    if ( this.state.is_new ) {\n      return(\n        <select value = { this.state.input_status } onChange = { this.handleChangeInputStatus }>\n          <option>Новая</option>\n        </select>\n      );\n    }\n    return(\n      <select value = { this.state.input_status } onChange = { this.handleChangeInputStatus }>\n        <option>Новая</option>\n        <option>В работе</option>\n        <option>Завершено</option>\n      </select>\n    );\n  }\n}\n\nclass My_popap extends React.Component {\n  \n  constructor( props ) {\n    super( props );\n\n    this.state = {\n      input_description: props.description_,\n      input_status: props.status_,\n      input_priority: props.priority_,\n      input_date: props.date_,\n      is_new: props.is_new_\n    };\n    this.handleChangeInputDescription = this.handleChangeInputDescription.bind( this );\n    this.handleSubmit = this.handleSubmit.bind( this );\n    this.new_task = this.new_task.bind( this );\n    this.handleChangeInputPriority = this.handleChangeInputPriority.bind( this );\n    this.handleChangeInputDate = this.handleChangeInputDate.bind( this );\n\n  }\n  \n  handleChangeInputDate( event ) {\n    this.setState({ input_date: event.target.value });\n  }\n\n  handleChangeInputDescription( event ) {\n    this.setState({ input_description: event.target.value });\n  }\n\n  handleChangeInputPriority( event ) {\n    this.setState({ input_priority:event.target.value });\n  }\n\n  handleSubmit( event ) {\n    event.preventDefault();\n  }\n\n  new_task( event ) {\n    if (this.state.input_description == '') {\n      alert(\"Поле \\\"Описание\\\" обязательно для заполнения\");\n    } else {\n      if ( this.props.is_new_ ) {\n        rows_task.push( createData( this.state.input_description, st_, this.state.input_priority, \n                                    this.state.input_date, \"-\" ) );\n      } else {\n        rows_task[this.props.id]['description_'] = this.state.input_description;\n        if (rows_task[this.props.id]['status_'] == 'Завершено' && st_ == 'Завершено') {\n          \n        } else {\n          if (st_ == 'Завершено') {\n            rows_task[this.props.id]['date2'] = now_date();\n          } else {\n            rows_task[this.props.id]['date2'] = '-';\n          }\n        }\n        rows_task[this.props.id]['status_'] = st_;\n        rows_task[this.props.id]['date1'] = this.state.input_date;\n        rows_task[this.props.id]['priority_'] = this.state.input_priority;\n      } \n      close_popap();\n      update_statistic();\n      row_json_add();\n      ReactDOM.render(< My_table rows_task_={ rows_task } />, document.getElementById( 'content_table' ));\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Popap_window\">\n        <div className=\"popap_main\">\n          <header className=\"Popap_head\">\n            <h3 id=\"blyat\">Создание / редактирование задачи</h3>\n            <button className=\"popap_close\" onClick={ close_popap }>x</button>\n          </header>\n\n          <p>Описание(*):</p>\n          \n          <input type=\"text\" value={ this.state.input_description } onChange={ this.handleChangeInputDescription } />\n        \n          <div className=\"priority_status\">\n            <div className=\"priority\">\n              <p>Приоритет:</p>\n              <select value={ this.state.input_priority } onChange={ this.handleChangeInputPriority }> \n                <option>Низкий</option>\n                <option>Средний</option>\n                <option>Высокий</option>\n              </select>\n            </div>\n            <div className=\"status\">\n              <p>Статус:</p>\n\n              <Popap_status is_new_ = { this.state.is_new } \n                            input_status = { this.state.input_status }\n                            updateData = { this.updateData }\n              /> \n            </div>\n          </div>\n          <div className=\"deadline\">\n            <p>Крайний срок:</p>\n            <input type=\"date\" id=\"date\" value={ this.state.input_date } onChange={ this.handleChangeInputDate }></input>\n          </div>\n          <p className=\"for_potap_btn\">\n            <button className=\"popap_btn\" onClick={ this.new_task } >Сохранить</button>\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nfunction update_statistic() {\n  document.getElementById( 'statistic_all_task' ).textContent = 'Всего - ' + rows_task.length;\n  let cnt_new = 0, cnt_in_work = 0, cnt_finish = 0;\n  for (let i = 0; i < rows_task.length; i++) {\n    if (rows_task[i]['status_'] == 'Новая') {\n      cnt_new++;\n    }\n    if (rows_task[i]['status_'] == 'В работе') {\n      cnt_in_work++;\n    }\n    if (rows_task[i]['status_'] == 'Завершено') {\n      cnt_finish++;\n    }\n  }\n  document.getElementById( 'statistic_new_task' ).textContent = 'Новых - ' + cnt_new;\n  document.getElementById( 'statistic_in_work_task' ).textContent = 'В работе - ' + cnt_in_work;\n  document.getElementById( 'statistic_completed_task' ).textContent = 'Завершено - ' + cnt_finish;\n}\n\n\nReactDOM.render(< My_table rows_task_ = { rows_task } />, document.getElementById( 'content_table' ));\nrow_json_get();\nupdate_statistic();\n\n"]},"metadata":{},"sourceType":"module"}