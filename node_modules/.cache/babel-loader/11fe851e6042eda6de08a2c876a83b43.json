{"ast":null,"code":"import _assertThisInitialized from\"/Users/zakaulovaaa/Desktop/opapa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"/Users/zakaulovaaa/Desktop/opapa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zakaulovaaa/Desktop/opapa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/zakaulovaaa/Desktop/opapa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/zakaulovaaa/Desktop/opapa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/zakaulovaaa/Desktop/opapa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import logo from\"./logo.svg\";import'./App.css';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';var useStyles=makeStyles({table:{minWidth:650}});var classes=useStyles;var rows_task=[];//массив со значениями для таблицы\nvar id_new=0;//счетчик для создания id\nvar st_=\"Новая\";function createData(description_,status_,priority_,date1,date2){//собираем структуру для добавления в rows_task \nreturn{description_:description_,status_:status_,priority_:priority_,date1:date1,date2:date2};}function display_date_format(str){//преобразуем дату в формад дд.мм.гггг\nif(str=='-')return'-';return str[8]+str[9]+'.'+str[5]+str[6]+'.'+str[0]+str[1]+str[2]+str[3];}document.addEventListener(\"DOMContentLoaded\",function(){//действия при кликах на таблицу\nvar tab=document.getElementById(\"tab\");tab.onclick=function(e){//при онклике удалять строку из таблицы\nvar cell=e.target;var row=cell.parentElement;var rows=row.parentElement.children;for(var i=0;i<rows.length;++i){if(rows[i]===row){break;}}var columns=row.children;for(var j=0;j<columns.length;++j){if(columns[j]===cell){break;}}if(j==5){rows_task.splice(i,1);row_json_add();ReactDOM.render(React.createElement(My_table,{rows_task_:rows_task}),document.getElementById('content_table'));update_statistic();}};tab.ondblclick=function(e){//при даблклике открывать попап для редактирования\nvar cell=e.target;var row=cell.parentElement;var rows=row.parentElement.children;for(var i=0;i<rows.length;++i){if(rows[i]===row){break;}}var columns=row.children;for(var j=0;j<columns.length;++j){if(columns[j]===cell){break;}}var element=React.createElement(Open_my_popap,{popap_openis:true,task_new:false,id:i});ReactDOM.render(element,document.getElementById('root'));};});document.addEventListener(\"DOMContentLoaded\",function(){//фильтры по статусу\ndocument.getElementById(\"statistic_all_task\").onclick=function(e){ReactDOM.render(React.createElement(My_table,{rows_task_:rows_task}),document.getElementById('content_table'));};document.getElementById(\"statistic_new_task\").onclick=function(e){var filter_arr=rows_task.filter(function(row){return row['status_']=='Новая';});ReactDOM.render(React.createElement(My_table,{rows_task_:filter_arr}),document.getElementById('content_table'));};document.getElementById(\"statistic_in_work_task\").onclick=function(e){var filter_arr=rows_task.filter(function(row){return row['status_']=='В работе';});ReactDOM.render(React.createElement(My_table,{rows_task_:filter_arr}),document.getElementById('content_table'));};document.getElementById(\"statistic_completed_task\").onclick=function(e){var filter_arr=rows_task.filter(function(row){return row['status_']=='Завершено';});ReactDOM.render(React.createElement(My_table,{rows_task_:filter_arr}),document.getElementById('content_table'));};});document.addEventListener(\"DOMContentLoaded\",function(){//при изменении поля \"поиск\" фильтровать список\ndocument.getElementById('search_task').oninput=function(e){var str=document.getElementById(\"search_task\").value.toLowerCase();var filter_arr=rows_task.filter(function(row){return row['description_'].toLowerCase().indexOf(str)!=-1;});row_json_get();ReactDOM.render(React.createElement(My_table,{rows_task_:filter_arr}),document.getElementById('content_table'));};});var My_table=/*#__PURE__*/function(_React$Component){_inherits(My_table,_React$Component);//собссна, сама таблица\nfunction My_table(props){_classCallCheck(this,My_table);return _possibleConstructorReturn(this,_getPrototypeOf(My_table).call(this,props));}_createClass(My_table,[{key:\"render\",value:function render(){return React.createElement(TableContainer,{component:Paper,id:\"tab\"},React.createElement(Table,{className:useStyles.table,\"aria-label\":\"table\"},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,null,\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"),React.createElement(TableCell,{align:\"right\"},\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"),React.createElement(TableCell,{align:\"right\"},\"\\u041F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442\"),React.createElement(TableCell,{align:\"right\"},\"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u0430\\u044F \\u0434\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"),React.createElement(TableCell,{align:\"right\"},\"\\u0424\\u0430\\u043A\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0430\\u044F \\u0434\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"),React.createElement(TableCell,{align:\"right\"},\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"))),React.createElement(TableBody,null,this.props.rows_task_.map(function(row){return React.createElement(TableRow,{key:row.description_},React.createElement(TableCell,{component:\"th\",scope:\"row\"},\" \",row.description_,\" \"),React.createElement(TableCell,{align:\"right\"},row.status_),React.createElement(TableCell,{align:\"right\"},row.priority_),React.createElement(TableCell,{align:\"right\"},display_date_format(row.date1)),React.createElement(TableCell,{align:\"right\"},display_date_format(row.date2)),React.createElement(TableCell,{align:\"right\",id:\"act_delete\"},'Удалить'));}))));}}]);return My_table;}(React.Component);function row_json_add(){//закидываем массив в cookie\ndocument.cookie=JSON.stringify(rows_task);}function row_json_get(){//вытаскиваем массив из cookie\nrows_task=JSON.parse(document.cookie.slice(document.cookie.indexOf('[')));ReactDOM.render(React.createElement(My_table,{rows_task_:rows_task}),document.getElementById('content_table'));}function now_date(){//возвращает текущую дату в правильном формате\nvar x=new Date();return x.getFullYear()+\"-\"+(x.getMonth()+1<10?\"0\"+(x.getMonth()+1):x.getMonth()+1)+\"-\"+(x.getDate()<10?\"0\"+x.getDate():x.getDate());}function close_popap(){//закрывает попап\nvar element=React.createElement(Open_my_popap,{popap_openis:false});ReactDOM.render(element,document.getElementById('root'));}function Open_my_popap(props){// открываем попап для создания новой задачи\nif(props.popap_openis){if(props.task_new){return React.createElement(My_popap,{description_:'',status_:'Новая',priority_:'Низкий',date_:now_date(),is_new_:true});}st_=rows_task[props.id]['status_'];return React.createElement(My_popap,{description_:rows_task[props.id]['description_'],status_:rows_task[props.id]['status_'],priority_:rows_task[props.id]['priority_'],date_:rows_task[props.id]['date1'],is_new_:false,id:props.id});}}var Popap_status=/*#__PURE__*/function(_React$Component2){_inherits(Popap_status,_React$Component2);function Popap_status(props){var _this;_classCallCheck(this,Popap_status);_this=_possibleConstructorReturn(this,_getPrototypeOf(Popap_status).call(this,props));_this.state={is_new:props.is_new_,input_status:props.input_status};_this.handleChangeInputStatus=_this.handleChangeInputStatus.bind(_assertThisInitialized(_this));return _this;}_createClass(Popap_status,[{key:\"handleChangeInputStatus\",value:function handleChangeInputStatus(event){this.setState({input_status:event.target.value});st_=event.target.value;}},{key:\"render\",value:function render(){if(this.state.is_new){return React.createElement(\"select\",{value:this.state.input_status,onChange:this.handleChangeInputStatus},React.createElement(\"option\",null,\"\\u041D\\u043E\\u0432\\u0430\\u044F\"));}return React.createElement(\"select\",{value:this.state.input_status,onChange:this.handleChangeInputStatus},React.createElement(\"option\",null,\"\\u041D\\u043E\\u0432\\u0430\\u044F\"),React.createElement(\"option\",null,\"\\u0412 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0435\"),React.createElement(\"option\",null,\"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u043E\"));}}]);return Popap_status;}(React.Component);var My_popap=/*#__PURE__*/function(_React$Component3){_inherits(My_popap,_React$Component3);function My_popap(props){var _this2;_classCallCheck(this,My_popap);_this2=_possibleConstructorReturn(this,_getPrototypeOf(My_popap).call(this,props));_this2.state={input_description:props.description_,input_status:props.status_,input_priority:props.priority_,input_date:props.date_,is_new:props.is_new_};_this2.handleChangeInputDescription=_this2.handleChangeInputDescription.bind(_assertThisInitialized(_this2));_this2.handleSubmit=_this2.handleSubmit.bind(_assertThisInitialized(_this2));_this2.new_task=_this2.new_task.bind(_assertThisInitialized(_this2));_this2.handleChangeInputPriority=_this2.handleChangeInputPriority.bind(_assertThisInitialized(_this2));_this2.handleChangeInputDate=_this2.handleChangeInputDate.bind(_assertThisInitialized(_this2));return _this2;}_createClass(My_popap,[{key:\"handleChangeInputDate\",value:function handleChangeInputDate(event){this.setState({input_date:event.target.value});}},{key:\"handleChangeInputDescription\",value:function handleChangeInputDescription(event){this.setState({input_description:event.target.value});}},{key:\"handleChangeInputPriority\",value:function handleChangeInputPriority(event){this.setState({input_priority:event.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();}},{key:\"new_task\",value:function new_task(event){if(this.state.input_description==''){alert(\"Поле \\\"Описание\\\" обязательно для заполнения\");}else{if(this.props.is_new_){rows_task.push(createData(this.state.input_description,st_,this.state.input_priority,this.state.input_date,\"-\"));}else{rows_task[this.props.id]['description_']=this.state.input_description;if(rows_task[this.props.id]['status_']=='Завершено'&&st_=='Завершено'){}else{if(st_=='Завершено'){rows_task[this.props.id]['date2']=now_date();}else{rows_task[this.props.id]['date2']='-';}}rows_task[this.props.id]['status_']=st_;rows_task[this.props.id]['date1']=this.state.input_date;rows_task[this.props.id]['priority_']=this.state.input_priority;}close_popap();update_statistic();row_json_add();ReactDOM.render(React.createElement(My_table,{rows_task_:rows_task}),document.getElementById('content_table'));}}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Popap_window\"},React.createElement(\"div\",{className:\"popap_main\"},React.createElement(\"header\",{className:\"Popap_head\"},React.createElement(\"h3\",{id:\"blyat\"},\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 / \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\"),React.createElement(\"button\",{className:\"popap_close\",onClick:close_popap},\"x\")),React.createElement(\"p\",null,\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435(*):\"),React.createElement(\"input\",{type:\"text\",value:this.state.input_description,onChange:this.handleChangeInputDescription}),React.createElement(\"div\",{className:\"priority_status\"},React.createElement(\"div\",{className:\"priority\"},React.createElement(\"p\",null,\"\\u041F\\u0440\\u0438\\u043E\\u0440\\u0438\\u0442\\u0435\\u0442:\"),React.createElement(\"select\",{value:this.state.input_priority,onChange:this.handleChangeInputPriority},React.createElement(\"option\",null,\"\\u041D\\u0438\\u0437\\u043A\\u0438\\u0439\"),React.createElement(\"option\",null,\"\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0439\"),React.createElement(\"option\",null,\"\\u0412\\u044B\\u0441\\u043E\\u043A\\u0438\\u0439\"))),React.createElement(\"div\",{className:\"status\"},React.createElement(\"p\",null,\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"),React.createElement(Popap_status,{is_new_:this.state.is_new,input_status:this.state.input_status,updateData:this.updateData}))),React.createElement(\"div\",{className:\"deadline\"},React.createElement(\"p\",null,\"\\u041A\\u0440\\u0430\\u0439\\u043D\\u0438\\u0439 \\u0441\\u0440\\u043E\\u043A:\"),React.createElement(\"input\",{type:\"date\",id:\"date\",value:this.state.input_date,onChange:this.handleChangeInputDate})),React.createElement(\"p\",{className:\"for_potap_btn\"},React.createElement(\"button\",{className:\"popap_btn\",onClick:this.new_task},\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"))));}}]);return My_popap;}(React.Component);function update_statistic(){document.getElementById('statistic_all_task').textContent='Всего - '+rows_task.length;var cnt_new=0,cnt_in_work=0,cnt_finish=0;for(var i=0;i<rows_task.length;i++){if(rows_task[i]['status_']=='Новая'){cnt_new++;}if(rows_task[i]['status_']=='В работе'){cnt_in_work++;}if(rows_task[i]['status_']=='Завершено'){cnt_finish++;}}document.getElementById('statistic_new_task').textContent='Новых - '+cnt_new;document.getElementById('statistic_in_work_task').textContent='В работе - '+cnt_in_work;document.getElementById('statistic_completed_task').textContent='Завершено - '+cnt_finish;}ReactDOM.render(React.createElement(My_table,{rows_task_:rows_task}),document.getElementById('content_table'));row_json_get();update_statistic();export default Open_my_popap;","map":{"version":3,"sources":["/Users/zakaulovaaa/Desktop/opapa/src/App.js"],"names":["React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useStyles","table","minWidth","classes","rows_task","id_new","st_","createData","description_","status_","priority_","date1","date2","display_date_format","str","document","addEventListener","tab","getElementById","onclick","e","cell","target","row","parentElement","rows","children","i","length","columns","j","splice","row_json_add","ReactDOM","render","update_statistic","ondblclick","element","filter_arr","filter","oninput","value","toLowerCase","indexOf","row_json_get","My_table","props","rows_task_","map","Component","cookie","JSON","stringify","parse","slice","now_date","x","Date","getFullYear","getMonth","getDate","close_popap","Open_my_popap","popap_openis","task_new","id","Popap_status","state","is_new","is_new_","input_status","handleChangeInputStatus","bind","event","setState","My_popap","input_description","input_priority","input_date","date_","handleChangeInputDescription","handleSubmit","new_task","handleChangeInputPriority","handleChangeInputDate","preventDefault","alert","push","updateData","textContent","cnt_new","cnt_in_work","cnt_finish"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst classes = useStyles;\n\nlet rows_task = []; //массив со значениями для таблицы\nlet id_new = 0; //счетчик для создания id\nlet st_ = \"Новая\";\n\nfunction createData( description_, status_, priority_, date1, date2 ) { //собираем структуру для добавления в rows_task \n  return { description_, status_, priority_, date1, date2 };\n}\n\nfunction display_date_format( str ) { //преобразуем дату в формад дд.мм.гггг\n  if ( str == '-' ) return '-';\n  return ( str[8] + str[9] + '.' + str[5] + str[6] + '.' + str[0] + str[1] + str[2] + str[3] );\n}\n\ndocument.addEventListener( \"DOMContentLoaded\", () => { //действия при кликах на таблицу\n  let tab = document.getElementById( \"tab\" ); \n\n  tab.onclick = e => { //при онклике удалять строку из таблицы\n    let cell = e.target;\n    let row = cell.parentElement;\n    let rows = row.parentElement.children;\n    for (var i = 0; i < rows.length; ++i) {\n      if ( rows[i] === row ) {\n        break;\n      }\n    }\n    let columns = row.children;\n    for (var j = 0; j < columns.length; ++j) {\n      if ( columns[j] === cell ) {\n        break;\n      }\n    }\n    if (j == 5) {\n      rows_task.splice( i, 1 );\n      row_json_add();\n      ReactDOM.render(< My_table rows_task_={ rows_task } /> , document.getElementById( 'content_table' ));\n      update_statistic();\n    }\n  };\n\n  tab.ondblclick = e => { //при даблклике открывать попап для редактирования\n    let cell = e.target;\n    let row = cell.parentElement;\n    let rows = row.parentElement.children;\n    for (var i = 0; i < rows.length; ++i) {\n      if ( rows[i] === row ) {\n        break;\n      }\n    }\n    let columns = row.children;\n    for (var j = 0; j < columns.length; ++j) {\n      if ( columns[j] === cell ) {\n        break;\n      }\n    }\n    const element = < Open_my_popap\n      popap_openis={ true }\n      task_new = { false }\n      id = { i }\n    />;\n    ReactDOM.render( element, document.getElementById( 'root' ) );\n  };\n});\n\ndocument.addEventListener( \"DOMContentLoaded\", () => { //фильтры по статусу\n  document.getElementById( \"statistic_all_task\" ).onclick = e => {\n    ReactDOM.render(< My_table rows_task_ = { rows_task } />, document.getElementById( 'content_table' ));\n  }\n  document.getElementById( \"statistic_new_task\" ).onclick = e => {\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return row['status_'] == 'Новая';\n      }\n    )\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n  document.getElementById( \"statistic_in_work_task\" ).onclick = e => {\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return row['status_'] == 'В работе';\n      }\n    )\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n  document.getElementById( \"statistic_completed_task\" ).onclick = e => {\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return row['status_'] == 'Завершено';\n      }\n    )\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n});\n\ndocument.addEventListener( \"DOMContentLoaded\", () => { //при изменении поля \"поиск\" фильтровать список\n  document.getElementById( 'search_task' ).oninput = e => {\n    let str = document.getElementById( \"search_task\" ).value.toLowerCase();\n    let filter_arr = rows_task.filter(\n      function( row ) {\n        return (row['description_'].toLowerCase().indexOf( str ) != -1);\n      }\n    )\n    row_json_get();\n    ReactDOM.render(< My_table rows_task_ = { filter_arr } />, document.getElementById( 'content_table' ));\n  }\n});\n\nclass My_table extends React.Component {  //собссна, сама таблица\n  constructor( props ) {\n    super( props );\n  }\n  render() {\n    return(\n      <TableContainer component={Paper} id=\"tab\">\n        <Table className={useStyles.table} aria-label=\"table\">\n        <TableHead>\n          <TableRow>\n          <TableCell>Описание</TableCell>\n          <TableCell align=\"right\">Статус</TableCell>\n          <TableCell align=\"right\">Приоритет</TableCell>\n          <TableCell align=\"right\">Плановая дата окончания</TableCell>\n          <TableCell align=\"right\">Фактическая дата окончания</TableCell>\n          <TableCell align=\"right\">Действие</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {this.props.rows_task_.map(row => (\n          <TableRow key = { row.description_ }>\n            <TableCell component=\"th\" scope=\"row\"> { row.description_} </TableCell>\n            <TableCell align=\"right\">{ row.status_ }</TableCell>\n            <TableCell align=\"right\">{ row.priority_ }</TableCell>\n            <TableCell align=\"right\">{ display_date_format( row.date1 ) }</TableCell>\n            <TableCell align=\"right\">{ display_date_format( row.date2 ) }</TableCell>\n            <TableCell align=\"right\" id=\"act_delete\">{ 'Удалить' }</TableCell>\n          </TableRow>\n          ))}\n        </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n}\n\nfunction row_json_add() {  //закидываем массив в cookie\n  document.cookie = JSON.stringify( rows_task );\n}\n\nfunction row_json_get() { //вытаскиваем массив из cookie\n  rows_task = JSON.parse( document.cookie.slice( document.cookie.indexOf( '[' ) ) );\n  ReactDOM.render(< My_table rows_task_ = { rows_task } />, document.getElementById( 'content_table' ));\n}\n\n\nfunction now_date() { //возвращает текущую дату в правильном формате\n  let x = new Date();\n  return (x.getFullYear() + \"-\" + \n          (x.getMonth() + 1 < 10 ? \"0\" + (x.getMonth() + 1) : (x.getMonth() + 1) ) + \"-\" + \n          (x.getDate() < 10 ? \"0\" + x.getDate() : x.getDate()));\n}\n\nfunction close_popap() { //закрывает попап\n  const element = < Open_my_popap popap_openis = { false } />;\n  ReactDOM.render( element, document.getElementById( 'root' ) );\n}\n\nfunction Open_my_popap(props) { // открываем попап для создания новой задачи\n  if ( props.popap_openis ) {\n    if ( props.task_new ) {\n      return (\n        <My_popap description_ = { '' } \n                  status_ = { 'Новая' } \n                  priority_ = { 'Низкий' } \n                  date_ = { now_date() } \n                  is_new_ = { true }\n        />\n      );\n    } \n    st_ = rows_task[props.id]['status_'];\n    return (\n      <My_popap description_ = { rows_task[props.id]['description_'] }\n                status_ = { rows_task[props.id]['status_'] }\n                priority_ = { rows_task[props.id]['priority_'] }\n                date_ = { rows_task[props.id]['date1'] }\n                is_new_ = { false }\n                id = { props.id }\n      />\n    );\n  } \n}\n\nclass Popap_status extends React.Component {\n  constructor( props ) {\n    super( props );\n    this.state = {\n      is_new: props.is_new_,\n      input_status: props.input_status\n    }\n    this.handleChangeInputStatus = this.handleChangeInputStatus.bind( this );\n  }\n  handleChangeInputStatus( event ) {\n    this.setState({ input_status: event.target.value });\n    st_ = event.target.value;\n  }\n  render() {\n    if ( this.state.is_new ) {\n      return(\n        <select value = { this.state.input_status } onChange = { this.handleChangeInputStatus }>\n          <option>Новая</option>\n        </select>\n      );\n    }\n    return(\n      <select value = { this.state.input_status } onChange = { this.handleChangeInputStatus }>\n        <option>Новая</option>\n        <option>В работе</option>\n        <option>Завершено</option>\n      </select>\n    );\n  }\n}\n\nclass My_popap extends React.Component {\n  \n  constructor( props ) {\n    super( props );\n\n    this.state = {\n      input_description: props.description_,\n      input_status: props.status_,\n      input_priority: props.priority_,\n      input_date: props.date_,\n      is_new: props.is_new_\n    };\n    this.handleChangeInputDescription = this.handleChangeInputDescription.bind( this );\n    this.handleSubmit = this.handleSubmit.bind( this );\n    this.new_task = this.new_task.bind( this );\n    this.handleChangeInputPriority = this.handleChangeInputPriority.bind( this );\n    this.handleChangeInputDate = this.handleChangeInputDate.bind( this );\n\n  }\n  \n  handleChangeInputDate( event ) {\n    this.setState({ input_date: event.target.value });\n  }\n\n  handleChangeInputDescription( event ) {\n    this.setState({ input_description: event.target.value });\n  }\n\n  handleChangeInputPriority( event ) {\n    this.setState({ input_priority:event.target.value });\n  }\n\n  handleSubmit( event ) {\n    event.preventDefault();\n  }\n\n  new_task( event ) {\n    if (this.state.input_description == '') {\n      alert(\"Поле \\\"Описание\\\" обязательно для заполнения\");\n    } else {\n      if ( this.props.is_new_ ) {\n        rows_task.push( createData( this.state.input_description, st_, this.state.input_priority, \n                                    this.state.input_date, \"-\" ) );\n      } else {\n        rows_task[this.props.id]['description_'] = this.state.input_description;\n        if (rows_task[this.props.id]['status_'] == 'Завершено' && st_ == 'Завершено') {\n          \n        } else {\n          if (st_ == 'Завершено') {\n            rows_task[this.props.id]['date2'] = now_date();\n          } else {\n            rows_task[this.props.id]['date2'] = '-';\n          }\n        }\n        rows_task[this.props.id]['status_'] = st_;\n        rows_task[this.props.id]['date1'] = this.state.input_date;\n        rows_task[this.props.id]['priority_'] = this.state.input_priority;\n      } \n      close_popap();\n      update_statistic();\n      row_json_add();\n      ReactDOM.render(< My_table rows_task_={ rows_task } />, document.getElementById( 'content_table' ));\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Popap_window\">\n        <div className=\"popap_main\">\n          <header className=\"Popap_head\">\n            <h3 id=\"blyat\">Создание / редактирование задачи</h3>\n            <button className=\"popap_close\" onClick={ close_popap }>x</button>\n          </header>\n\n          <p>Описание(*):</p>\n          \n          <input type=\"text\" value={ this.state.input_description } onChange={ this.handleChangeInputDescription } />\n        \n          <div className=\"priority_status\">\n            <div className=\"priority\">\n              <p>Приоритет:</p>\n              <select value={ this.state.input_priority } onChange={ this.handleChangeInputPriority }> \n                <option>Низкий</option>\n                <option>Средний</option>\n                <option>Высокий</option>\n              </select>\n            </div>\n            <div className=\"status\">\n              <p>Статус:</p>\n\n              <Popap_status is_new_ = { this.state.is_new } \n                            input_status = { this.state.input_status }\n                            updateData = { this.updateData }\n              /> \n            </div>\n          </div>\n          <div className=\"deadline\">\n            <p>Крайний срок:</p>\n            <input type=\"date\" id=\"date\" value={ this.state.input_date } onChange={ this.handleChangeInputDate }></input>\n          </div>\n          <p className=\"for_potap_btn\">\n            <button className=\"popap_btn\" onClick={ this.new_task } >Сохранить</button>\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nfunction update_statistic() {\n  document.getElementById( 'statistic_all_task' ).textContent = 'Всего - ' + rows_task.length;\n  let cnt_new = 0, cnt_in_work = 0, cnt_finish = 0;\n  for (let i = 0; i < rows_task.length; i++) {\n    if (rows_task[i]['status_'] == 'Новая') {\n      cnt_new++;\n    }\n    if (rows_task[i]['status_'] == 'В работе') {\n      cnt_in_work++;\n    }\n    if (rows_task[i]['status_'] == 'Завершено') {\n      cnt_finish++;\n    }\n  }\n  document.getElementById( 'statistic_new_task' ).textContent = 'Новых - ' + cnt_new;\n  document.getElementById( 'statistic_in_work_task' ).textContent = 'В работе - ' + cnt_in_work;\n  document.getElementById( 'statistic_completed_task' ).textContent = 'Завершено - ' + cnt_finish;\n}\n\n\nReactDOM.render(< My_table rows_task_ = { rows_task } />, document.getElementById( 'content_table' ));\nrow_json_get();\nupdate_statistic();\n\nexport default Open_my_popap;\n\n"]},"metadata":{},"sourceType":"module"}